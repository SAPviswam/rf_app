sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/m/Popover","sap/m/Button","sap/m/library","sap/m/MessageToast","sap/ui/core/UIComponent","sap/ui/core/Fragment"],function(e,t,o,i,n,s,r,a,l){"use strict";return e.extend("com.app.rfapp.controller.ResourcePage",{onInit:function(){const e=this.getOwnerComponent().getRouter();var t=new o;this.getView().setModel(t);t.loadData(sap.ui.require.toUrl("com/app/rfapp/model/data.json"));t.attachRequestCompleted(function(e){if(!e.getParameter("success")){r.show("Failed to load data.")}}.bind(this));e.attachRoutePatternMatched(this.onResourceDetailsLoad,this);this.Themecall=false;this._currentTileId=null},onAfterRendering:function(){var e=localStorage.getItem("themeColor");if(e)this.applyThemeColor(e);var t=JSON.parse(localStorage.getItem("tileColors")||"{}");for(var o in t){var i=t[o];var n=this.byId(this._extractLocalId(o));if(n){(function(e,t){e.addEventDelegate({onAfterRendering:function(){var o=e.getDomRef();if(o)o.style.backgroundColor=t}})})(n,i)}}},onPressThemesResource:function(){this.byId("idCancelButtonResource").setVisible(true);this.byId("idthemeBackGroundButton").setVisible(true);this.Themecall=true;sap.m.MessageToast.show("Theme mode activated.")},onCancelPressThemeMode:function(){this.byId("idCancelButtonResource").setVisible(false);this.byId("idthemeBackGroundButton").setVisible(false);this.Themecall=false;sap.m.MessageToast.show("Theme mode Deactivated.")},onCancelColorDialog:function(){this.byId("idthemeTileDialogResource").close();this.resetDialogBox()},onBackgroundThemeBtn:function(){this.byId("idthemeTileDialogResource").open()},onApplyColor:function(){var e=this.getView();var t=e.byId("idcolorPickerResource");var o=t.getColorString();var i=[];var n=this.byId("colorOptionsResource").getItems();n.forEach(function(e){if(e instanceof sap.m.CheckBox&&e.getSelected()){var t=e.getCustomData()[0].getValue();i.push(t)}});if(i.length>0){if(i.length>1){sap.m.MessageToast.show("You can only select one color.");return}if(t.getVisible()){sap.m.MessageToast.show("Please deselect the checkbox before using the custom color picker.");return}var s=i[0];if(this._currentTileId){this.applyColorToTile(this._currentTileId,s);sap.m.MessageToast.show("Tile color applied successfully!");this._currentTileId=null}else{this.applyThemeColor(s);sap.m.MessageToast.show("Theme color applied successfully!")}}else if(this._isValidColor(o)){if(this._currentTileId){this.applyColorToTile(this._currentTileId,o);sap.m.MessageToast.show("Tile color applied successfully!");this._currentTileId=null}else{this.applyThemeColor(o);sap.m.MessageToast.show("Theme color applied successfully!")}}else{sap.m.MessageToast.show("Invalid color format. Please use a valid color code.")}this.resetDialogBox();this.byId("idthemeTileDialogResource").close()},applyColorToTile:function(e,t){var o=this.byId(e);if(!o)return;var i=o.getDomRef();if(i){i.style.backgroundColor=t;var n=JSON.parse(localStorage.getItem("tileColors")||"{}");n[e]=t;localStorage.setItem("tileColors",JSON.stringify(n))}},applyThemeColor:function(e){debugger;var t=[this.byId("idScrollContainer1")];var o="customThemeStyle";var i=document.getElementById(o);if(i){i.remove()}var n=document.createElement("style");n.id=o;n.textContent=".customTheme { background-color: "+e+" !important; }";document.head.appendChild(n);t.forEach(function(e){if(e){e.addStyleClass("customTheme")}});localStorage.setItem("themeColor",e)},onColorOptionSelect:function(e){var t=e.getSource();var o=this.byId("colorOptionsResource").getItems();o.forEach(function(e){if(e instanceof sap.m.CheckBox&&e!==t){e.setSelected(false)}});var i=t.getSelected();this.byId("idcolorPickerResource").setVisible(!i)},resetDialogBox:function(){var e=this.getView();var t=e.byId("idcolorPickerResource");var o=this.byId("colorOptionsResource").getItems();o.forEach(function(e){if(e instanceof sap.m.CheckBox){e.setSelected(false)}});t.setColorString("#FFFFFF");t.setVisible(true)},onCancelColorDialog:function(){this.byId("idthemeTileDialogResource").close()},_extractLocalId:function(e){return e.split("--").pop()},_isValidColor:function(e){var t=/^#([0-9A-Fa-f]{3}){1,2}$/;var o=/^rgb\(\d{1,3},\d{1,3},\d{1,3}\)$/;return t.test(e)||o.test(e)},onPressLanguageTransulation:function(e){if(!this._oLanguagePopover){this._oLanguagePopover=sap.ui.xmlfragment("com.app.rfapp.fragments.LanguageTransulations",this);this.getView().addDependent(this._oLanguagePopover)}this._oLanguagePopover.openBy(e.getSource())},onPressTileViewSettings:function(e){if(!this.oTileViewSettings){this.oTileViewSettings=sap.ui.xmlfragment("com.app.rfapp.fragments.UserTileView",this);this.getView().addDependent(this.oTileViewSettings)}this.oTileViewSettings.openBy(e.getSource())},onResourceDetailsLoad:async function(e){var t=this;const{id:o}=e.getParameter("arguments");this.ID=o;console.log(this.ID);var i=this.getView().getModel();var n=this.getOwnerComponent().getModel();await n.read("/RESOURCESSet('"+this.ID+"')",{success:function(e){var o=e.Area;var n=o.split(",").map(e=>e.trim());var s=e.Resourcegroup;var r=s.split(",").map(e=>e.trim());r.forEach(function(e){let o=e.replace(/[^a-zA-Z0-9]/g,"");let i=o.toLowerCase();t.getView().byId(`id_${i}_title`).setVisible(true)});var a=e.Queue;var l=a.split(",").map(e=>e.trim());console.log(l);l.forEach(function(e){let o=e.replace(/[^a-zA-Z0-9]/g,"");let i=o.toLowerCase();t.getView().byId(`id_${i}`).setVisible(true)});var c=i.getProperty("/navigation");c.forEach(function(e){var t=false;n.forEach(function(o){var i=`${o} Process`;if(e.title===i){e.visible=true;t=true}});if(!t){e.visible=false}e.items.forEach(function(t){if(r.includes(t.title)&&e.visible){t.visible=true}else{t.visible=false}})});i.setProperty("/navigation",c)}.bind(this),error:function(){r.show("User does not exist")}})},onItemSelect:function(e){var t=e.getParameter("item");this.byId("pageContainer1").to(this.getView().createId(t.getKey()))},handleUserNamePress:function(e){var t=new i({showHeader:false,placement:PlacementType.Bottom,content:[new n({text:"Feedback",type:ButtonType.Transparent}),new n({text:"Help",type:ButtonType.Transparent}),new n({text:"Logout",type:ButtonType.Transparent})]}).addStyleClass("sapMOTAPopover sapTntToolHeaderPopover");t.openBy(e.getSource())},onSideNavButtonPress:function(){var e=this.byId("toolPage");var t=e.getSideExpanded();this._setToggleButtonTooltip(t);e.setSideExpanded(!e.getSideExpanded())},_setToggleButtonTooltip:function(e){var t=this.byId("sideNavigationToggleButton");if(e){t.setTooltip("Large Size Navigation")}else{t.setTooltip("Small Size Navigation")}},onManuallyRepackHUPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("ManuallyRepackHU",{id:this.ID})}},onManuallyRepackHUItemPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("ManuallyRepackAllHUItems",{id:this.ID})}},onPutawayByHUPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("RoutePutawayByHU",{id:this.ID})}},onReceivingofHUbyConsignementOrderPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("Receivingofhubyco",{id:this.ID})}},onManuallyRepackHUItemPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("RouteManuallyRepackingByHuItems",{id:this.ID})}},onWTQuerybyWOPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("WTQueryByWO",{id:this.ID})}},onReceivingofHUbyDeliveryPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("RecevingOfHUbyDelivery",{id:this.ID})}},onReceivingofHUbymanufacturingOrderPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("RecevingOfHUbyManufacturingOrder",{id:this.ID})}},onRecevingofTUDoorTWPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("RecevingOfHUbyTUorDoor",{id:this.ID})}},onReceivingofHUbyASNPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("ReceivingofHUbyASN",{id:this.ID})}},onReceivingofHUbyShipmentPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("ReceivingofHUbyShipment",{id:this.ID})}},onReceivingofHUbyTUPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("ReceivingofHUbyTU",{id:this.ID})}},onUnloadingByDoorTilePress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("UnloadingByDoor",{id:this.ID})}},onUnloadingByConsignmentOrderTilePress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("UnloadingByConsignmentOrder",{id:this.ID})}},onChangeQueueTilePress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("ChangeQueue",{id:this.ID})}},onChangeResourceGroupTilePress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("ChangeResourceGroup",{id:this.ID})}},onUnloadingbyBillofLadingPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("UnloadingByBillofLading",{id:this.ID})}},onDeconsolidationAutomaticallyPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("DeconsolidationAutomatically",{id:this.ID})}},onDeconsolidateManuallyPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("DeconsolidationManually",{id:this.ID})}},onAdhocInventoryCreationPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("AdhocInventoryCreation",{id:this.ID})}},onCreationOfSingleHUpress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("CreationOfSingleHU",{id:this.ID})}},onMaintainHUPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("MaintainHU",{id:this.ID})}},onReversalofConsumptionbyMOHUPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("ReversalofConsumptionbyMObyHU",{id:this.ID})}},onUnloadingByShipmentPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("UnloadingByShipment",{id:this.ID})}},onUnloadingByTransportUnitPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("UnloadingByTU",{id:this.ID})}},onSBQPAvatarPressed:function(e){if(!this._oPopover){this._oPopover=sap.ui.xmlfragment("com.app.rfapp.fragments.ProfileDialog",this);this.getView().addDependent(this._oPopover)}this._oPopover.openBy(e.getSource())},onCloseDialog:function(){this._pProfileDialog.then(function(e){e.close()})},onMyAccountPress:function(){sap.m.MessageToast.show("Navigating to My Account...")},onLogoutPress:function(){sap.m.MessageToast.show("Logging out...")},onRecevinngofHUbyBillofLadingPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("RouteBillofLading",{id:this.ID})}},onCreateShippingHUPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("CreateShippingHU",{id:this.ID})}},onCreateShippingHUWOWCPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("CreateShippingHUWOWC",{id:this.ID})}},onPutawayByWOPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("PutawayByWO",{id:this.ID})}},onAvailableHandlingunitsonbinqueryPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("AvailableHandlingUnitsOnBinQuery",{id:this.ID})}},onWTquerybyHUPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("WTQueryByHU",{id:this.ID})}},onWTQueryByWTPress:function(){var e=a.getRouterFor(this);e.navTo("WTQueryByWT",{id:this.ID})},onCreateandConfirmAdhocProductWTPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("CreateConfirmAdhocProduct",{id:this.ID})}},onSerialnumberLocationPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("SerialNumberLocation",{id:this.ID})}},onStockBinQuerybyProductPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("StockBinQueryByProduct",{id:this.ID})}},onCreateAdhocHUWTPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("AdhocHuWt",{id:this.ID})}},onCreateAdhocProductWTPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("AdhocProductWt",{id:this.ID})}},onReceivingofHUbyDoorPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("ReceivingOfHuByDoor",{id:this.ID})}},onStockBinQuerybyBinPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("StockBinQueryByBin",{id:this.ID})}},onHUQueryPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("HuQuery",{id:this.ID})}},onUnloadingByDeliveryPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("UnloadByDelivery",{id:this.ID})}},onUnloadingByASNPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("RouteUnloadingASNDetails",{id:this.ID})}},onWTQuerybyQueuePress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("WTQueryByQueue",{id:this.ID})}},onPickPointPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("PickPoint",{id:this.ID})}},onManuallyrepackallHUitemsPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("ManuallyRepackAllHUItems",{id:this.ID})}},onHUStockOverviewQueryPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("HUStockOverviewQuery",{id:this.ID})}},onConsumptionByManufacturingOrderPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("ConsumptionByManufacturingOrder",{id:this.ID})}},onCreatePutawayHusforDeconsolidationPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("CreatePutawayHusforDeconsolidate",{id:this.ID})}},onCreatePutawayHusManuallyPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("CreatePutawayHusManually",{id:this.ID})}},onLoadByHUManPosAssigmentPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("LoadbyHUManPosAssiognment",{id:this.ID})}},onPutawayByHUClusteredPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("RoutePutawayHuClustered",{id:this.ID})}},onAutomaticallyRepackHUPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("AutomaticallyRepackHu",{id:this.ID})}},onLoadByHUAutoPosAssignmentPress:function(e){if(this.Themecall){this._currentTileId=e.getSource().getId();this.onBackgroundThemeBtn()}else{var t=a.getRouterFor(this);t.navTo("LoadbyHUAutoPosAssiognment",{id:this.ID})}},onProductInspectionByHUPress:function(){var e=a.getRouterFor(this);e.navTo("ProductInspectionByHU",{id:this.ID})},onProductInspectionByStorageBinPress:function(){var e=a.getRouterFor(this);e.navTo("ProductInspectionByStorageBin",{id:this.ID})},onProfilePressed:function(){var e=this.getView();if(!this.byId("idUserDetails")){l.load({id:e.getId(),name:"com.app.rfapp.fragments.UserDetails",controller:this}).then(function(t){e.addDependent(t);t.open()})}else{this.byId("idUserDetails").open()}},onCloseUSerDetailsDialog:function(){this.byId("idUserDetails").close()},onSignoutPressed:function(){var e=a.getRouterFor(this);e.navTo("InitialScreen",{id:this.ID})}})});
//# sourceMappingURL=ResourcePage.controller.js.map